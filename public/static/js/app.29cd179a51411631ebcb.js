webpackJsonp([0],{"6LR+":function(t,i){},NHnr:function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=a("lRwf"),e=a.n(n),o={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},staticRenderFns:[]},c=a("VU/8")({name:"app"},o,!1,function(t){a("6LR+")},null,null).exports,s=a("pRNm"),r=a.n(s),l={name:"Main",data:function(){return{allLoaded:!1,comicList:[],loading:!1,page:1,pagesize:6}},methods:{turnTo:function(t){this.$router.push({name:"Gallery",params:{aid:t}})},fullSrc:function(t){return"http://www.wnacg.org"+t},fullHref:function(t){return"/comic/"+t},timeFormat:function(t){return(t=new Date(t)).getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()},getComicList:function(t){var i=this;this.$http.get("/api/comic",{params:{page:this.page,pagesize:this.pagesize}}).then(function(a){0===a.data.code?i.comicList=i.comicList.concat(a.data.data):alert(a.data.msg),t&&t()}).catch(function(t){console.log(t)})},loadMore:function(){var t=this;this.loading=!0,this.page++,this.getComicList(function(){t.loading=!1})},loadBottom:function(){var t=this;this.loading=!0,this.page++,this.getComicList(function(){t.loading=!1}),this.$refs.loadmore.onBottomLoaded()}},mounted:function(){this.getComicList()}},u={render:function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",[a("mt-header",{attrs:{fixed:"",title:"Wnacg Native"}},[a("mt-button",{attrs:{slot:"right",icon:"more"},slot:"right"})],1),t._v(" "),a("div",{attrs:{id:"comics"}},[a("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"loading-container",attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"50"}},t._l(t.comicList,function(i){return a("div",{staticClass:"comic",on:{click:function(a){t.turnTo(i.aid)}}},[a("div",{staticClass:"comic-left"},[a("img",{staticClass:"comic-cover",attrs:{alt:i.aid,src:t.fullSrc(i.coverPath)}})]),t._v(" "),a("div",{staticClass:"comic-right"},[a("div",{staticClass:"comic-title"},[t._v("\n            "+t._s(i.title)+"\n          ")]),t._v(" "),a("div",{staticClass:"comic-info"},[a("span",{staticClass:"comic-author"},[t._v("作者:\n              "),a("a",{attrs:{href:"/author/"+i.author}},[t._v(t._s(i.author))])]),t._v(" "),a("br"),t._v(" "),a("span",{staticClass:"comic-create-time"},[t._v("收录时间："+t._s(t.timeFormat(i.ctime)))]),t._v(" "),a("span",{staticClass:"comic-aid"},[t._v("编号：#"+t._s(i.aid))]),t._v(" "),a("span",{staticClass:"comic-page-num"},[t._v("页数："+t._s(i.pageNum))])])])])}))])],1)},staticRenderFns:[]},d=a("VU/8")(l,u,!1,function(t){a("thQM")},"data-v-0561efc1",null).exports,p={name:"Gallery",data:function(){return{aid:0,picList:[]}},methods:{fullSrc:function(t){return"http://www.wnacg.org"+t},getPicList:function(t){var i=this;this.$http.get("/api/picture",{params:{aid:this.aid}}).then(function(a){0===a.data.code?i.picList=a.data.data:alert(a.data.msg),t&&t()}).catch(function(t){console.log(t)})}},mounted:function(){this.aid=this.$route.params.aid,this.getPicList(),document.onscroll=function(){console.log(document.body.scrollTop,document.body.scrollTop+document.body.clientHeight)}}},m={render:function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",t._l(t.picList,function(i){return a("div",{staticClass:"picture"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.fullSrc(i.url),expression:"fullSrc(pic.url)"}],staticClass:"pic",attrs:{alt:"pic.caption"}})])}))},staticRenderFns:[]},f=a("VU/8")(p,m,!1,function(t){a("pxXo")},"data-v-d68be4c2",null).exports;e.a.use(r.a);var h=new r.a({routes:[{path:"/",name:"Main",component:d},{path:"/gallery/:aid",name:"Gallery",component:f}]}),g=a("OMN4"),v=a.n(g),_=a("Tg7E");e.a.component(_.Button.name,_.Button),e.a.component(_.Header.name,_.Header),e.a.use(_.Lazyload),e.a.use(_.InfiniteScroll),e.a.prototype.$http=v.a,e.a.config.productionTip=!1,new e.a({el:"#app",router:h,template:"<App/>",components:{App:c}})},OMN4:function(t,i){t.exports=axios},Tg7E:function(t,i){t.exports=MINT},lRwf:function(t,i){t.exports=Vue},pRNm:function(t,i){t.exports=VueRouter},pxXo:function(t,i){},thQM:function(t,i){}},["NHnr"]);
//# sourceMappingURL=app.29cd179a51411631ebcb.js.map